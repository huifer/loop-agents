# Loop Agent - AI驱动的任务分解与执行框架

## 概述

Loop
Agent是一个AI驱动的框架，它能够将复杂任务分解为更小的、可操作的步骤，并以协调、并行的方式执行它们。该框架利用大型语言模型(
LLM)进行任务分解和执行，采用基于角色的方法和ReAct(推理、行动、观察)模式。

## 主要功能

1. **任务分解**：自动将复杂任务分解为具有明确依赖关系的较小、顺序性步骤。
2. **基于角色的执行**：为每个任务分配专门的AI角色（如设计师、开发者、测试员）。
3. **并行任务执行**：在尊重依赖关系的同时并发执行任务。
4. **可视化**：提供Web界面以监控任务执行和依赖关系。
5. **ReAct模式实现**：每个AI角色都遵循推理(Reasoning)、行动(Action)、观察(Observation)模式，实现结构化问题解决。

## 系统架构

系统包含几个关键组件：

### 1. 任务分解

- **基本任务分割**：将用户请求分解为具有依赖关系的顺序步骤
- **基于角色的分解**：增强型分解，同时为每个任务分配适当的角色
- 提示词文件：`prompt/task_split.md`, `prompt/task_jx.md`

### 2. 角色生成

- 自动识别所需角色并为每个角色生成专门的系统提示
- 确保每个角色遵循ReAct模式
- 提示词文件：`prompt/gen_role_sys.md`

### 3. LLM集成

- 支持多种LLM提供商（Google Gemini, OpenAI）
- 处理对话管理和上下文
- 文件：`tools/llm_generatory.py`, `tools/common_llm.py`

### 4. 任务执行引擎

- 带有依赖跟踪的并行执行
- 线程安全的任务依赖图执行
- 文件：`sample.task.py`

### 5. 结果可视化

- 显示任务依赖和执行状态的交互式Web界面
- 详细的任务信息和依赖图
- 文件：`index.html`

## 使用方法

该框架的使用步骤：

1. 使用任务分解提示词分解任务
2. 为任务生成适当的角色
3. 创建带有依赖关系和角色分配的结构化任务列表
4. 使用并行执行框架执行任务
5. 通过可视化界面查看结果
